<div class="upload-container">
  <!-- Error Fallback Overlay -->
  <div class="error-overlay" *ngIf="errorState && errorState.hasError">
    <app-error-fallback
      [errorState]="errorState"
      [config]="fallbackConfig"
      (retry)="onErrorRetry()"
      (dismiss)="onErrorDismiss()">
    </app-error-fallback>
  </div>

  <div class="upload-card">
    <div class="upload-icon">
      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    
    <h2>Upload PDF to start chatting</h2>
    <p>Click or drag and drop your file here</p>
    
    <div 
      class="drop-zone"
      [class.drag-over]="isDragOver"
      (dragover)="onDragOver($event)"
      (dragleave)="onDragLeave($event)"
      (drop)="onDrop($event)"
      (click)="triggerFileInput()"
    >
      <div class="drop-zone-content">
        <div class="upload-icon-large">
          <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 15V19C21 20.1 20.1 21 19 21H5C3.9 21 3 20.1 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <polyline points="7,10 12,15 17,10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <p class="drop-text">Drop your PDF here or click to browse</p>
        <p class="file-info">Supports PDF files only</p>
      </div>
    </div>
    
    <input
      type="file"
      id="fileInput"
      accept=".pdf"
      (change)="onFileSelected($event)"
      class="hidden-file-input"
    >
    
    <div *ngIf="selectedFile" class="file-selected">
      <p>Selected: {{ selectedFile.name }}</p>
      <div class="loading-spinner"></div>
    </div>
  </div>
</div>
